---
import { Picture } from "@astrojs/image/components";
import type { ImageMetadata } from "@astrojs/assets";

export interface Props {
  src: ImageMetadata | Promise<{ default: ImageMetadata }>;
  alt: string;
  height: number;
}

const { src, alt, height } = Astro.props;
const { width: imageWidth, height: imageHeight } = src;
---

<style>
  figure {
    margin-bottom: var(--line-height);
  }
</style>

<figure>
  <Picture
    src={src}
    alt={alt}
    height={height}
    widths={[100, 200, 400, 800, 1600]}
    aspectRatio={imageWidth / imageHeight}
  />
</figure>
