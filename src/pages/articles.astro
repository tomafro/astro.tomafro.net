---
import MainLayout from "@layouts/MainLayout.astro";
import Article from "@components/Article.astro";
import { articles } from "@lib/collections";

const rendered = await Promise.all(
  articles.map(async (article) => {
    const { Content, headings } = await article.render();
    return { article, Content, headings };
  })
);
---

<MainLayout title="Articles">
  {
    rendered.map(({ article, Content, headings }) => {
      return (
        <Article article={article}>
          <Content />
        </Article>
      );
    })
  }
</MainLayout>
